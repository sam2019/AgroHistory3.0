/*!
 * @splidejs/splide-extension-auto-scroll
 * Version  : 0.5.2
 * License  : MIT
 * Copyright: 2022 Naotoshi Fujita
 */
!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n,t,e){return Array.prototype.slice.call(n,t,e)}function t(t){return t.bind.apply(t,[null].concat(n(arguments,1)))}function e(n){return requestAnimationFrame(n)}function o(n,t){return typeof t===n}var i=Array.isArray;function r(n){return i(n)?n:[n]}function u(n,t){r(n).forEach(t)}t(o,"function"),t(o,"string"),t(o,"undefined");var c=Object.keys;function a(n,t,e){if(n){var o=c(n);o=e?o.reverse():o;for(var i=0;i<o.length;i++){var r=o[i];if("__proto__"!==r&&!1===t(n[r],r))break}}return n}var f=Math.min;function s(e){var o=e?e.event.bus:document.createDocumentFragment(),c=function(){var n=[];function t(n,t,e){u(n,(function(n){n&&u(t,(function(t){t.split(" ").forEach((function(t){var o=t.split(".");e(n,o[0],o[1])}))}))}))}return{bind:function(e,o,i,r){t(e,o,(function(t,e,o){var u="addEventListener"in t,c=u?t.removeEventListener.bind(t,e,i,r):t.removeListener.bind(t,i);u?t.addEventListener(e,i,r):t.addListener(i),n.push([t,e,o,i,c])}))},unbind:function(e,o,i){t(e,o,(function(t,e,o){n=n.filter((function(n){return!!(n[0]!==t||n[1]!==e||n[2]!==o||i&&n[3]!==i)||(n[4](),!1)}))}))},dispatch:function(n,t,e){var o;return"function"==typeof CustomEvent?o=new CustomEvent(t,{bubbles:!0,detail:e}):(o=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!1,e),n.dispatchEvent(o),o},destroy:function(){n.forEach((function(n){n[4]()})),n.length=0}}}();return e&&e.event.on("destroy",c.destroy),function(t){return n(arguments,1).forEach((function(n){a(n,(function(e,o){t[o]=n[o]}))})),t}(c,{bus:o,on:function(n,t){c.bind(o,r(n).join(" "),(function(n){t.apply(t,i(n.detail)?n.detail:[])}))},off:t(c.unbind,o),emit:function(t){c.dispatch(o,t,n(arguments,1))}})}function l(n,t,o,i){var r,u,c=Date.now,a=0,s=!0,l=0;function d(){if(!s){if(a=n?f((c()-r)/n,1):1,o&&o(a),a>=1&&(t(),r=c(),i&&++l>=i))return v();e(d)}}function v(){s=!0}function p(){u&&cancelAnimationFrame(u),a=0,u=0,s=!0}return{start:function(t){!t&&p(),r=c()-(t?a*n:0),s=!1,e(d)},rewind:function(){r=c(),a=0,o&&o(a)},pause:v,cancel:p,set:function(t){n=t},isPaused:function(){return s}}}function d(n,t,e){return Array.prototype.slice.call(n,t,e)}function v(n){return n.bind.apply(n,[null].concat(d(arguments,1)))}function p(n,t){return typeof t===n}function m(n){return!g(n)&&p("object",n)}var y=Array.isArray;v(p,"function"),v(p,"string");var b=v(p,"undefined");function g(n){return null===n}function h(n,t){var e;(e=n,y(e)?e:[e]).forEach(t)}var E=Object.keys;function w(n,t,e){if(n){var o=E(n);o=e?o.reverse():o;for(var i=0;i<o.length;i++){var r=o[i];if("__proto__"!==r&&!1===t(n[r],r))break}}return n}function S(n){return d(arguments,1).forEach((function(t){w(t,(function(e,o){n[o]=t[o]}))})),n}function A(n,t,e){m(t)?w(t,(function(t,e){A(n,e,t)})):h(n,(function(n){g(e)||""===e?function(n,t){h(n,(function(n){h(t,(function(t){n&&n.removeAttribute(t)}))}))}(n,t):n.setAttribute(t,String(e))}))}var L=Math.min,_=Math.max;Math.floor,Math.ceil,Math.abs;var k={speed:1,autoStart:!0,pauseOnHover:!0,pauseOnFocus:!0},x={startScroll:"Start auto scroll",pauseScroll:"Pause auto scroll"};"undefined"!=typeof window&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.AutoScroll=function(n,t,e){var o,i,r,u,c,a,f=s(n),d=f.on,v=f.off,p=f.bind,y=f.unbind,g=t.Move,E=g.translate,w=g.getPosition,M=g.toIndex,C=g.getLimit,O=t.Controller,P=O.setIndex,F=O.getIndex,j=t.Direction.orient,D=t.Elements.toggle,I=t.Live,z=n.root,H=function(n,t){var e;return function(){e||(e=l(t||0,(function(){n(),e=null}),null,1)).start()}}(t.Arrows.update,500),q={};function B(){n.is("fade")||o||!1===e.autoScroll||(o=l(0,Q),function(){q.pauseOnHover&&p(z,"mouseenter mouseleave",(function(n){r="mouseenter"===n.type,N()}));q.pauseOnFocus&&p(z,"focusin focusout",(function(n){u="focusin"===n.type,N()}));q.useToggleButton&&p(D,"click",(function(){i?J():K()}));d("updated",G),d(["move","drag","scroll"],(function(){c=!0,K(!1)})),d(["moved","dragged","scrolled"],(function(){c=!1,N()}))}(),q.autoStart&&("complete"===document.readyState?J():p(window,"load",J)))}function T(){o&&(o.cancel(),o=null,a=void 0,v(["move","drag","scroll","moved","scrolled"]),y(z,"mouseenter mouseleave focusin focusout"),y(D,"click"))}function G(){var n=e.autoScroll;!1!==n?(q=S({},q,m(n)?n:{}),B()):T(),o&&!b(a)&&E(a)}function J(){U()&&(o.start(!0),I.disable(!0),u=r=i=!1,R())}function K(n){void 0===n&&(n=!0),i||(i=n,R(),U()||(o.pause(),I.disable(!1)))}function N(){i||(r||u||c?K(!1):J())}function Q(){var o=w(),i=function(t){var e=q.speed||1;t+=j(e),n.is("slide")&&(o=t,i=C(!1),r=C(!0),u=L(i,r),c=_(i,r),t=L(_(u,o),c));var o,i,r,u,c;return t}(o);o!==i?(E(i),function(o){var i=n.length,r=(M(o)+i)%i;r!==F()&&(P(r),t.Slides.update(),t.Pagination.update(),"nearby"===e.lazyLoad&&t.LazyLoad.check())}(a=w())):(K(!1),q.rewind&&n.go(q.speed>0?0:t.Controller.getEnd())),H()}function R(){if(D){var n=i?"startScroll":"pauseScroll";o="is-active",r=!i,(t=D)&&h(o,(function(n){n&&t.classList[r?"add":"remove"](n)})),A(D,"aria-label",e.i18n[n]||x[n])}var t,o,r}function U(){return!o||o.isPaused()}return{setup:function(){var n=e.autoScroll;q=S({},k,m(n)?n:{})},mount:B,destroy:T,play:J,pause:K,isPaused:U}})}));